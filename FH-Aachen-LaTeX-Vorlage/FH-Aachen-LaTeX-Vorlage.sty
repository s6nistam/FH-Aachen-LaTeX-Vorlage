%general purpose
\usepackage[utf8]{inputenc}

% mathematical things
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{stmaryrd}
\usepackage{extarrows}
\usepackage{centernot}
\usepackage{cancel}

% colours
\usepackage[dvipsnames]{xcolor}

% pretty drawings
\usepackage{tikz}
% for trees
\usetikzlibrary{trees}
\usetikzlibrary{shapes.multipart}

% commutative diagram
\usepackage{tikz-cd}

% boxes for examples
\usepackage[listings,xparse,breakable,skins]{tcolorbox}

% loading different languages
% all used languages must be loaded, the standard one last
\usepackage[british, ngerman, american]{babel}

% quotation marks
\usepackage[babel = true]{csquotes}

%for images not to be written on
\usepackage{wrapfig}

%for headers and footers
\usepackage{fancyhdr}

%layout
\usepackage{geometry}


%dokument layout
\geometry{
    a4paper,
    left=15mm,
    top=5mm,
    bottom=5mm,
    includeheadfoot,
    marginparwidth=10mm,
    marginparsep=-25mm,
    includemp
}

%for the Logo
\usepackage{marginnote}
\usepackage{everypage}
\AddEverypageHook{\marginnote{\includegraphics[scale=.04]{fh-logo.png}}[-22mm]}


%Header/Footer
\pagestyle{fancy}
\fancyhf{}
%\fancyhead[R]{\marginpar{test \includegraphics[scale=.04]{fh-logo.png}}}
\fancyfoot[L]{\@author}
\fancyfoot[C]{\@title}
\fancyfoot[R]{\thepage}
\renewcommand{\headrulewidth}{0.0pt}
\renewcommand{\footrulewidth}{0.4pt}


%Define Colors
\definecolor{fhcolor}{HTML}{00B5AD}
\definecolor{fhcolor1}{HTML}{00A79E}
\definecolor{fhcolor2}{HTML}{00938A}
\definecolor{fhcolor3}{HTML}{006E67}

%Title
\def\lesson#1{\gdef\@lesson{#1}}
\def\iliLink#1{\gdef\@iliLink{#1}}
\renewcommand{\maketitle}{
\makeatletter
\centering
{\Large\@lesson\par}
{\huge\bfseries\color{fhcolor}{\@title}\par}
{\large\@author\par}
\vspace{1cm}
\raggedright
\hspace{-0.3cm}
\begin{tabular}{ll}
\ifdef{\@iliLink}{
Ilias-Link: & \url{\@iliLink} \\ 
}{}
Datum: & \@date \\
\end{tabular} \\
\vspace{1cm}
\makeatother
}

%Defining Environments
%Define Section
\renewcommand\section{
    \@startsection {section}{1}{\z@}
    {-3.5ex \@plus -1ex \@minus -.2ex}
    {2.3ex \@plus.2ex}
    {\normalfont\Large\bfseries\color{fhcolor1}}}
\renewcommand\subsection{
    \@startsection{subsection}{2}{\z@}%
    {-3.25ex\@plus -1ex \@minus -.2ex}%
    {1.5ex \@plus .2ex}%
    {\normalfont\large\bfseries\color{fhcolor2}}}
\renewcommand\subsubsection{
    \@startsection{subsubsection}{3}{\z@}%
    {-3.25ex\@plus -1ex \@minus -.2ex}%
    {1.5ex \@plus .2ex}%
    {\normalfont\normalsize\bfseries\color{fhcolor3}}}


%counters
\newcounter{aufgabencounter}
\newcounter{teilaufgabencounter}
\newcounter{ideencounter}

%Custom Commands
\newcommand{\Natural}{\mathbb{N}}
\newcommand{\Integer}{\mathbb{Z}}
\newcommand{\Rational}{\mathbb{Q}}
\newcommand{\Real}{\mathbb{R}}
\newcommand{\Complex}{\mathbb{C}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\aufgabe}{\addtocounter{aufgabencounter}{1} \setcounter{teilaufgabencounter}{0} \setcounter{ideencounter}{0} \section*{Aufgabe \arabic{aufgabencounter}:}}
\newcommand{\teilaufgabe}{\addtocounter{teilaufgabencounter}{1} \setcounter{ideencounter}{0} \subsection*{\alph{teilaufgabencounter}:}}
\newcommand{\idee}{\addtocounter{ideencounter}{1} \subsubsection*{Idee \arabic{ideencounter}:}}
\newcommand{\bemerke}{\addtocounter{ideencounter}{1} \subsubsection*{Bemerke \arabic{ideencounter}:}}
\newcommand{\wissen}{\addtocounter{ideencounter}{1} \subsubsection*{Wissen \arabic{ideencounter}:}}
\newcommand{\bM}{\begin{matrix}} %\bM = begin Matrix
\newcommand{\eM}{\end{matrix}} %\eM = end Matrix
\newcommand{\bpM}{\begin{pmatrix}} %\bpM = begin parethesies Matrix
\newcommand{\epM}{\end{pmatrix}} %\epM = end parethesies Matrix
\newcommand{\bdp}{\left\langle} %\bdp = begin dot product
\newcommand{\edp}{\right\rangle} %\edp = end dot product
\newcommand{\bn}{\left\|} %\bn = begin norm
\newcommand{\en}{\right\|} %\en = end norm
\newcommand{\bp}{\left(} %\bn = begin parethesies
\newcommand{\ep}{\right)} %\en = end parethesies